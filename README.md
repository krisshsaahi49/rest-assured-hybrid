# API Testing Framework for Swagger User Endpoints

This project is a REST API testing framework built with Java. It uses several libraries and tools to perform comprehensive API testing, including:

- **RestAssured** for API interactions
- **TestNG** for test orchestration
- **ExtentReports** for generating detailed test reports
- **Apache POI** for reading test data from Excel files
- **Log4j** for logging

The framework demonstrates both data-driven testing (using Excel as a source) and regression tests with dynamically generated test data.

---

## Project Structure

```plaintext
├── src
│   ├── main
│   │   └── java
│   │       ├── com
│   │       │   ├── dto
│   │       │   │   └── User.java
│   │       │   ├── endpoints
│   │       │   │   ├── Routes.java
│   │       │   │   └── UserEndpoint.java
│   │       │   └── util
│   │       │           ├── BaseUtil.java
│   │       │           ├── DataProviders.java
│   │       │           ├── ExcelUtil.java
│   │       │           ├── ExtentReportUtil.java
│   │       │           └── LogUtil.java
│   ├── test
│       └── java
│           ├── com
│           │   ├── datadriven
│           │   │   └── UserDDT.java
│           │   └── regression
│           │           └── UserTest.java
└── src
    └── resources
        └── testdata
            └── user_data.xlsx
```

- **com.dto.User.java**  
  Contains the User data transfer object (DTO) built with Lombok annotations.

- **com.util**  
  Includes utility classes:
    - **BaseUtil.java:** Implements TestNG listeners for logging and reporting.
    - **DataProviders.java:** Provides data for data-driven tests via TestNG's `@DataProvider` annotation.
    - **ExcelUtil.java:** Reads test data from an Excel file using Apache POI.
    - **ExtentReportUtil.java:** Manages test reporting using ExtentReports.
    - **LogUtil.java:** Handles logging using Log4j.

- **com.endpoints**  
  Contains endpoint definitions:
    - **Routes.java:** Defines the base URL and endpoint paths.
    - **UserEndpoint.java:** Provides methods to create, read, update, and delete user data via REST calls.

- **Test Classes**
    - **UserDDT.java:** Executes data-driven tests using test data from an Excel sheet.
    - **UserTest.java:** Performs regression tests using dynamic test data generated by Faker.

---

## pom.xml

The project is managed using Maven. The **pom.xml** file includes all the necessary dependencies and plugins to build and run the tests. Key details include:

- **Dependencies:**
    - **RestAssured** (including json-schema-validator and json-path) for REST API testing.
    - **TestNG** for test execution.
    - **Jackson Databind** and **org.json** for JSON parsing.
    - **Lombok** for reducing boilerplate code.
    - **Apache POI & POI-Ooxml** for Excel file operations.
    - **ExtentReports** for generating test reports.
    - **JavaFaker** for generating dynamic test data.
    - **Log4j (log4j-core and log4j-api)** for logging.

- **Plugins:**
    - **Maven Compiler Plugin:** Configured to use Java 17 and set up the Lombok annotation processor.
    - **Maven Surefire Plugin:** Configured to run TestNG tests using a specified suite XML file.
---

## Prerequisites

- **Java JDK 8 or higher** (Java 17 is recommended as per the pom.xml configuration)
- **Maven** (for dependency management and build)
- The following Maven dependencies are used:
    - RestAssured
    - TestNG
    - ExtentReports
    - Apache POI
    - Log4j
    - Faker
    - Lombok

Ensure you have the necessary environment set up and all dependencies installed.

---

## Setup and Execution

1. **Clone the Repository:**

   ```bash
   git clone <repository-url>
   cd <repository-directory>
   ```

2. **Import the Project:**

   Import the project into your preferred IDE (e.g., IntelliJ IDEA, Eclipse).

3. **Build the Project:**

   If using Maven, run:

   ```bash
   mvn clean install
   ```

4. **Configure Test Data:**

   Place your Excel test data file (`user_data.xlsx`) in the `src/resources/testdata/` directory. Modify the file path in `ExcelUtil.java` if necessary.

5. **Run Tests:**

   You can run tests from your IDE or via the command line:

   ```bash
   mvn test
   ```

   Alternatively, specify the suite XML file via the Maven Surefire Plugin configuration if needed.

---

## Reporting and Logging

- **ExtentReports:**  
  Test results are generated as an HTML report in the `./reports/` directory with a timestamped file name.

- **Logging:**  
  Detailed logs are produced using Log4j. Logs can be found in the console or in the designated log file based on your Log4j configuration.

---

## Data-Driven Testing

- **ExcelUtil & DataProviders:**  
  The framework uses `ExcelUtil` to read test data from an Excel file and passes the data to tests via TestNG’s `@DataProvider` annotations in `DataProviders.java`.

- **UserDDT:**  
  This class demonstrates data-driven testing by iterating through user data from the Excel file to create users and verify user retrieval.

---

## API Endpoints

- **Base URL:**  
  `https://petstore.swagger.io/v2`

- **Endpoints:**
    - **POST_USER:** `https://petstore.swagger.io/v2/user`
    - **GET_USER:** `https://petstore.swagger.io/v2/user/{username}`
    - **UPDATE_USER:** `https://petstore.swagger.io/v2/user/{username}`
    - **DELETE_USER:** `https://petstore.swagger.io/v2/user/{username}`

These endpoints are defined in `Routes.java` and utilized in `UserEndpoint.java`.

---

## Additional Notes

- **TestNG Listeners:**  
  The `BaseUtil` class implements TestNG listeners to integrate reporting and logging seamlessly with the test execution lifecycle.

- **Exception Handling:**  
  The project includes basic exception handling. Customize and extend these mechanisms as needed for your use cases.

- **Extensibility:**  
  This framework is designed to be modular. You can add more endpoints, extend reporting features, or incorporate additional data sources as needed.

---

## Contributing

Feel free to fork the repository, submit issues, or create pull requests to improve the framework.

---

## License

Specify the appropriate license for your project here.

---

This **README.md** now includes details about the Maven configuration and the **pom.xml** file, providing a complete overview of the project's setup, dependencies, and structure.
